{{ if eq .chezmoi.os "darwin" -}}
#!/usr/bin/env bash

# install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# install fast-syntax-highlighting
git clone https://github.com/zdharma-continuum/fast-syntax-highlighting.git \
  ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/fast-syntax-highlighting

# install zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

# install fzf-tab
git clone https://github.com/Aloxaf/fzf-tab ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/fzf-tab

# install spaceship theme prompt
git clone https://github.com/spaceship-prompt/spaceship-prompt.git "$ZSH_CUSTOM/themes/spaceship-prompt" --depth=1
ln -s "$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme" "$ZSH_CUSTOM/themes/spaceship.zsh-theme"

git clone https://github.com/spaceship-prompt/spaceship-vi-mode.git $ZSH_CUSTOM/plugins/spaceship-vi-mode

# This enables ó°˜³+ctrl+left mouse to be able to drag on the entire window.
defaults write -g "NSWindowShouldDragOnGesture" -bool true

# enable key repeat
defaults write -g "ApplePressAndHoldEnabled" 0

# Key repeat speed
defaults write -g "InitialKeyRepeat" -int 25
defaults write -g "KeyRepeat" -int 2

# only show active applications
defaults write com.apple.dock "static-only" -bool true

# Set the size of the dock to 30 points
defaults write com.apple.dock "tilesize" -int 40

# Setup dock autohide
defaults write com.apple.dock "autohide" -bool true
defaults write com.apple.dock "autohide-delay" -int 0
defaults write com.apple.dock "autohide-time-modifier" -float "0.12"

# Drag with 3 finger drag
defaults write com.apple.AppleMultitouchTrackpad "TrackpadThreeFingerDrag" -bool "true"

# kill and restart dock for these changes be applied
killall Dock

{{ end -}}
